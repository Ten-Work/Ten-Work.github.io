<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Redirecting...</title>
<script>
(function() {
    // 取得 URL path
    const path = window.location.pathname; 
    // 解析 room id，例如 /game_1a2b/room/cQVIam
    const match = path.match(/\/game_1a2b\/room\/(.+)/);
    const roomId = match ? match[1] : null;

    // Android App 的 intent URL
    const appUrl = `intent://game_1a2b/room/${roomId}#Intent;scheme=https;package=elfcup.game.bullsandcows;end`;

    // Play 商店 URL
    const playStoreUrl = 'https://play.google.com/store/apps/details?id=elfcup.game.bullsandcows';

    // 嘗試開啟 App
    window.location.replace(appUrl);

    // 如果 2 秒後還在頁面，跳轉到 Play 商店
    setTimeout(function() {
        window.location.replace(playStoreUrl);
    }, 2000);
})();
</script>
</head>
<body>
<p>Redirecting...</p>
</body>
</html>